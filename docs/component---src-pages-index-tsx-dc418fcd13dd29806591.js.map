{"version":3,"sources":["webpack:///./src/pages/index.module.styl","webpack:///./src/pages/index.tsx","webpack:///./src/assets/images/me.webp"],"names":["module","exports","lx","ly","image","cursor","canvas","ctx","drawingCanvas","drawingCtx","imageCanvas","imageCtx","size","HomePage","canvasRef","useRef","cursorRef","draw","clearRect","width","height","globalCompositeOperation","drawImage","fillStyle","fillRect","handleMouseDown","e","canvasRect","getBoundingClientRect","clientX","pageX","left","clientY","pageY","top","handleMouseMove","x","y","style","buttons","count","Math","max","abs","xs","ys","i","beginPath","arc","PI","fill","handleMouseUp","handleWindowResize","shouldDraw","window","innerWidth","innerHeight","handleKeyPress","keyCode","min","useEffect","current","Image","src","me","onload","getContext","document","createElement","lineWidth","lineCap","moveTo","lineTo","stroke","addEventListener","removeEventListener","className","styles","homePage","title","ref","info","hi","name","jobTitle","socials","social","target","rel","href"],"mappings":"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","file":"component---src-pages-index-tsx-dc418fcd13dd29806591.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"homePage\":\"index-module--homePage--mAY_-\",\"cursor\":\"index-module--cursor--27oYX\",\"me\":\"index-module--me--1HERa\",\"info\":\"index-module--info--WT3Zs\",\"hi\":\"index-module--hi--1f9Mv\",\"name\":\"index-module--name--1-snk\",\"jobTitle\":\"index-module--jobTitle--3PBoD\",\"socials\":\"index-module--socials--345id\",\"social\":\"index-module--social---UL5X\"};","import React, { useEffect, useRef } from \"react\"\nimport SEO from \"../components/seo\"\nimport styles from \"./index.module.styl\"\nimport me from \"../assets/images/me.webp\"\n\nlet lx = 0\nlet ly = 0\nlet image = null\nlet cursor = null\nlet canvas = null\nlet ctx = null\nlet drawingCanvas = null\nlet drawingCtx = null\nlet imageCanvas = null\nlet imageCtx = null\nlet gap = 2\nlet size = 70\n\nconst HomePage = () => {\n  const canvasRef = useRef()\n  const cursorRef = useRef()\n\n  const draw = () => {\n    imageCtx.clearRect(0, 0, imageCanvas.width, imageCanvas.height)\n\n    imageCtx.globalCompositeOperation = 'source-over'\n    imageCtx.drawImage(drawingCanvas, 0, 0)\n\n    imageCtx.globalCompositeOperation = 'source-in'\n    imageCtx.drawImage(image, 0, 0)\n\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height)\n\n    ctx.globalCompositeOperation = 'source-over'\n    ctx.fillStyle = \"#1c1c1e\"\n    ctx.fillRect(0, 0, canvas.width, canvas.height)\n\n    ctx.globalCompositeOperation = \"lighten\"\n    ctx.drawImage(imageCanvas, 0, 0, imageCanvas.width, imageCanvas.height, 0, 0, canvas.width, canvas.height)\n  }\n\n  const handleMouseDown = (e) => {\n    const canvasRect = canvas.getBoundingClientRect()\n\n    lx = ((e.clientX || e.pageX) - canvasRect.left) / canvasRect.width * image.width\n    ly = ((e.clientY || e.pageY) - canvasRect.top) / canvasRect.height * image.height\n  }\n\n  const handleMouseMove = (e) => {\n    const canvasRect = canvas.getBoundingClientRect()\n\n    const x = ((e.clientX || e.pageX) - canvasRect.left) / canvasRect.width * image.width\n    const y = ((e.clientY || e.pageY) - canvasRect.top) / canvasRect.height * image.height\n\n    cursor.style.left = `${e.clientX || e.pageX}px`\n    cursor.style.top = `${e.clientY || e.pageY}px`\n\n    if (e.buttons === 1) {\n      const count = Math.max(Math.abs((x - lx) / gap), Math.abs((y - ly) / gap))\n      const xs = (x - lx) / count\n      const ys = (y - ly) / count\n\n      for (let i = 1; i <= count; i++) {\n        drawingCtx.beginPath()\n        drawingCtx.arc(lx + xs * i, ly + ys * i, size, 0,  Math.PI * 2)\n        drawingCtx.fill()\n      }\n\n      draw()\n    }\n\n    lx = x\n    ly = y\n  }\n\n  const handleMouseUp = (e) => {\n    const canvasRect = canvas.getBoundingClientRect()\n\n    const x = ((e.clientX || e.pageX) - canvasRect.left) / canvasRect.width * image.width\n    const y = ((e.clientY || e.pageY) - canvasRect.top) / canvasRect.height * image.height\n\n    drawingCtx.beginPath()\n    drawingCtx.arc(x, y, size, 0,  Math.PI * 2)\n    drawingCtx.fill()\n\n    draw()\n  }\n\n  const handleWindowResize = (e, shouldDraw: boolean = true) => {\n    if (window.innerWidth > 600) {\n      canvas.height = window.innerHeight - 118\n      canvas.width = canvas.height / 1.2202097235\n    } else {\n      canvas.width = window.innerWidth - 60\n      canvas.height = canvas.width * 1.2202097235\n    }\n\n    if (shouldDraw) {\n      draw()\n    }\n  }\n\n  const handleKeyPress = (e) => {\n    if (e.keyCode === 91) {\n      size = Math.max(10, size - 10)\n\n      cursor.style.width = cursor.style.height = `${size * (canvas.width / image.width) * 2}px`\n    } else if (e.keyCode === 93) {\n      size = Math.min(100, size + 10)\n\n      cursor.style.width = cursor.style.height = `${size * (canvas.width / image.width) * 2}px`\n    }\n  }\n\n  const initializeCanvas = () => {\n    ctx = canvas.getContext('2d')\n\n    drawingCanvas = document.createElement('canvas')\n    drawingCtx = drawingCanvas.getContext('2d')\n\n    imageCanvas = document.createElement('canvas')\n    imageCtx = imageCanvas.getContext('2d')\n\n    drawingCanvas.width = imageCanvas.width = image.width\n    drawingCanvas.height = imageCanvas.height = image.height\n\n    drawingCtx.lineWidth = 180\n    drawingCtx.lineCap = 'round'\n    drawingCtx.moveTo(image.width, image.height * 0.15)\n    drawingCtx.lineTo(0, image.height * 0.6)\n    drawingCtx.stroke()\n    drawingCtx.moveTo(0, image.height * 0.2)\n    drawingCtx.lineTo(image.width, image.height * 0.75)\n    drawingCtx.stroke()\n\n    cursor.style.width = cursor.style.height = `${size * (canvas.width / image.width) * 2}px`\n\n    draw()\n  }\n\n  useEffect(() => {\n    canvas = canvasRef.current\n    cursor = cursorRef.current\n\n    handleWindowResize(null, false)\n\n    image = new Image()\n    image.src = me\n    image.onload = () => {\n      initializeCanvas()\n\n      document.addEventListener('mousedown', handleMouseDown)\n      document.addEventListener('mousemove', handleMouseMove)\n      document.addEventListener('mouseup', handleMouseUp)\n\n      window.addEventListener('resize', handleWindowResize)\n      document.addEventListener('keypress', handleKeyPress)\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleMouseDown)\n      document.removeEventListener('mousemove', handleMouseMove)\n      document.removeEventListener('mouseup', handleMouseUp)\n\n      window.removeEventListener('resize', handleWindowResize)\n      document.removeEventListener('keypress', handleKeyPress)\n    }\n  }, [])\n\n  return (\n    <main className={styles.homePage}>\n      <SEO title=\"Home\" />\n\n      <div className={styles.cursor} ref={cursorRef}/>\n\n      <div className=\"container\">\n        <section className={styles.info}>\n          <div className={styles.hi}>Hi, I'm</div>\n          <div className={styles.name}>Hossein</div>\n          <div className={styles.jobTitle}>Web Developer</div>\n        </section>\n\n        <canvas className={styles.me} ref={canvasRef} />\n\n        <footer>\n          <ul className={styles.socials}>\n            <li className={styles.social}>\n              <a target='_blank' rel='noopener' href=\"https://github.com/hmak-me\">GitHub</a>\n            </li>\n            <li className={styles.social}>\n              <a target='_blank' rel='noopener' href=\"https://linkedin.com/in/hmak-me\">LinkedIn</a>\n            </li>\n            <li className={styles.social}>\n              <a target='_blank' rel='noopener' href=\"https://twitter.com/hmakme\">Twitter</a>\n            </li>\n            <li className={styles.social}>\n              <a target='_blank' rel='noopener' href=\"https://instagram.com/hmak.me\">Instagram</a>\n            </li>\n          </ul>\n        </footer>\n      </div>\n    </main>\n  )\n}\n\nexport default HomePage\n","module.exports = __webpack_public_path__ + \"static/me-1587c1b98f55f4b634ea488750ab1ef9.webp\";"],"sourceRoot":""}